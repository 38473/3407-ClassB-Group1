<!doctype html>
<html lang="en">
<head>
  <title>My Clean</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    /* ========== Payment Methods Fix =========== */
    .payment-methods {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .payment-methods li {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #e5e7eb;
      width: 100%;
    }

    .payment-methods li:last-child {
      border-bottom: none;
    }

    .payment-methods .actions {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-left: auto; 
      white-space: nowrap;
    }

    .setting-item p {
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    /* ========== Security Settings Font Size Fix =========== */
    #security .setting-item p {
      font-size: 1.25rem; 
    }

    .card > *:not(h3) {
      margin-top: 38px;
    }
  </style>
</head>
<body>
<div id="container">
  <header>
    <a href="index.html"><img src="images/myclean.png" alt="My Clean logo" height="70" width="96"></a>
    <button id="menu-toggle" aria-label="Toggle menu">☰</button>
  </header>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About us</a></li>
      <li><a href="booking.html">Booking</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="payment.html">Payment</a></li>
      <li><a href="service.html">Service</a></li>
      <li><a href="account.html" class="active">Account</a></li>
    </ul>
    <div class="auth-buttons">
      <a href="signin.html" class="btn btn-outline">Sign in</a>
      <a href="register.html" class="btn btn-primary">Register</a>
    </div>
  </nav>

  <main>
    <div class="account-page">
      <h2>User Account</h2>
  
      <!-- Tab Content -->
      <div class="tab-content active" id="profile">
        <section class="card">
          <h3>Account Information</h3>
          <form id="accountForm">
            <label>Full Name</label>
            <input type="text" id="fullName" value="John Doe">
  
            <label>Email Address</label>
            <input type="email" id="email" value="john@example.com">
  
            <label>Phone Number</label>
            <input type="tel" id="phone" value="+1 555 123 4567" oninput="validatePhone(this)">
  
            <button type="submit">Save Changes</button>
          </form>
        </section>
  
        <section class="card">
          <h3>Manage Addresses</h3>
          <ul class="address-list" id="addressList">
            <li>
              <div class="address-info">
                <input type="text" value="123 Main St, Cityville" disabled>
              </div>
              <div class="address-actions">
                <button onclick="editAddress(this)">Edit</button>
                <button onclick="setDefaultAddress(this)">Set as Default</button>
              </div>
            </li>
            <li>
              <div class="address-info">
                <input type="text" value="456 Oak Ave, Townsville" disabled>
              </div>
              <div class="address-actions">
                <button onclick="editAddress(this)">Edit</button>
                <button onclick="setDefaultAddress(this)">Set as Default</button>
              </div>
            </li>
          </ul>
          <button class="btn-secondary" onclick="addNewAddress()">Add New Address</button>
        </section>
  
        <section class="card" id="security">
          <h3>Security Settings</h3>
          <div class="setting-item">
            <p>Password: *********** <a href="#" onclick="togglePasswordForm(event)">Change Password</a></p>
            <div id="passwordForm" style="display:none; margin-top: 10px;">
              <input type="password" placeholder="Current Password" style="margin-bottom: 8px; width: 100%; padding: 6px;"><br>
              <input type="password" placeholder="New Password" style="margin-bottom: 8px; width: 100%; padding: 6px;"><br>
              <input type="password" placeholder="Confirm New Password" style="margin-bottom: 8px; width: 100%; padding: 6px;"><br>
              <button type="button" onclick="saveNewPassword()">Save Password</button>
            </div>
          </div>
          <div class="setting-item">
            <p>Two-Factor Authentication: <span id="2faStatus" class="status disabled">Disabled</span> <a href="#" onclick="toggle2FA()">Enable</a></p>
          </div>
        </section>

        <h2>Feedback</h2>
        <!-- 新增的 Feedback 表单区块 -->
        <section class="card">
          <div class="setting-item">
            <p>Let us know how we can improve our service. We appreciate your feedback!</p>
            <form id="feedbackForm" onsubmit="submitFeedback(event)">
              <textarea id="userFeedback" rows="4" style="width: 100%; padding: 8px; margin-top: 10px;" placeholder="Type your feedback here..."></textarea>
              <button type="submit" style="margin-top: 10px;">Submit Feedback</button>
            </form>
          </div>
        </section>
  
        <section class="card danger-zone">
          <h3>Logout & Account Management</h3>
          <button onclick="logout()">Log Out</button>
          <button onclick="deleteAccount()" class="danger">Delete My Account</button>
        </section>
      </div>
    </div>
  </main>
  

  <footer class="site-footer">
  <div class="footer-container">
    
   
    <div class="footer-brand">
      <img src="images/myclean.png" alt="My Clean Logo" class="footer-logo" />
      <div class="social-icons">
        <a href="#"><img src="images/x-icon.jpg" alt="X/Twitter"></a>
        <a href="#"><img src="images/instagram-icon.jpg" alt="Instagram"></a>
        <a href="#"><img src="images/youtube-icon.jpg" alt="YouTube"></a>
        <a href="#"><img src="images/linkedin-icon.jpg" alt="LinkedIn"></a>
      </div>
    </div>

  
    <div class="footer-links">
      <div class="footer-column">
        <h4>Use cases</h4>
        <ul>
          <li><a href="about.html#home_cleaning">Home Cleaning</a></li>
          <li><a href="about.html#deep_cleaning">Deep Cleaning</a></li>
          <li><a href="about.html#move_cleaning">Move-In/Move-Out Cleaning</a></li>
          <li><a href="about.html#office_cleaning">Office & Commercial Cleaning</a></li>
          <li><a href="about.html#pet_cleaning">Pet-Friendly Services</a></li>
          <li><a href="about.html#other_cleaning">Eco-Friendly Cleaning</a></li>
          <li><a href="#">Subscription Plans</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Explore</h4>
        <ul>
          <li><a href="#">Booking Process</a></li>
          <li><a href="#">Smart Chat (Bot & Human)</a></li>
          <li><a href="#">Real-Time Cleaner Tracking</a></li>
          <li><a href="#">Pricing & Packages</a></li>
          <li><a href="#">Customer Reviews</a></li>
          <li><a href="#">Multi-language Support</a></li>
          <li><a href="#">Service Recommendations</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h4>Resources</h4>
        <ul>
          <li><a href="#">How-To Guides</a></li>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Customer Support</a></li>
          <li><a href="#">Cleaning Tips & Articles</a></li>
          <li><a href="#">Terms & Policies</a></li>
          <li><a href="#">Invoices & Billing</a></li>
          <li><a href="#">Feedback & Reporting</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>

  <script>
    
    window.addEventListener('DOMContentLoaded', () => {
      const savedName = localStorage.getItem('fullName') || 'John Doe';
      const savedEmail = localStorage.getItem('email') || 'john@example.com';
      const savedPhone = localStorage.getItem('phone') || '+1 555 123 4567';
  
      document.getElementById('fullName').value = savedName;
      document.getElementById('email').value = savedEmail;
      document.getElementById('phone').value = savedPhone;
    });
  
    // 表单提交时保存数据到 localStorage
    document.getElementById('accountForm').addEventListener('submit', function (e) {
      e.preventDefault();
  
      const fullName = document.getElementById('fullName').value.trim();
      const email = document.getElementById('email').value.trim();
      const phone = document.getElementById('phone').value.trim();
  
      if (fullName && email && phone) {
        localStorage.setItem('fullName', fullName);
        localStorage.setItem('email', email);
        localStorage.setItem('phone', phone);
        alert('Changes saved successfully!');
      } else {
        alert('Please fill in all fields.');
      }
    });
  
    // 编辑地址
    function editAddress(button) {
      const li = button.closest('li');
      const input = li.querySelector('.address-info input');
      input.disabled = !input.disabled;
      button.textContent = input.disabled ? 'Edit' : 'Save';
      button.classList.toggle('editing');
  
      if (!input.disabled) {
        input.focus();
      } else {
        // 可选：保存地址到 localStorage 或 API
      }
    }
  
    // 设置默认地址
    function setDefaultAddress(button) {
      const allButtons = document.querySelectorAll('.address-actions button:nth-child(2)');
      allButtons.forEach(btn => {
        btn.textContent = 'Set as Default';
        btn.style.backgroundColor = '';
      });
  
      button.textContent = 'Default';
      button.style.backgroundColor = '#10b981';
    }
  
    // 添加新地址
    function addNewAddress() {
      const addressList = document.getElementById('addressList');
      const newLi = document.createElement('li');
      newLi.innerHTML = `
        <div class="address-info">
          <input type="text" placeholder="Enter new address" disabled>
        </div>
        <div class="address-actions">
          <button onclick="editAddress(this)">Edit</button>
          <button onclick="setDefaultAddress(this)">Set as Default</button>
        </div>
      `;
      addressList.appendChild(newLi);
    }
  
    // 切换密码修改表单
    function togglePasswordForm(e) {
      e.preventDefault();
      const form = document.getElementById('passwordForm');
      form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
  
    // 保存新密码
    function saveNewPassword() {
      alert('Password changed successfully!');
      // 可在此处添加实际保存逻辑
      document.getElementById('passwordForm').style.display = 'none';
    }
  
    // 切换 2FA 状态
    function toggle2FA() {
      const status = document.getElementById('2faStatus');
      if (status.classList.contains('disabled')) {
        status.textContent = 'Enabled';
        status.classList.remove('disabled');
        status.classList.add('enabled');
        status.style.color = 'green';
        document.querySelector('#security .setting-item a').textContent = 'Disable';
      } else {
        status.textContent = 'Disabled';
        status.classList.remove('enabled');
        status.classList.add('disabled');
        status.style.color = 'red';
        document.querySelector('#security .setting-item a').textContent = 'Enable';
      }
    }
  
    // 登出功能
    function logout() {
      if (confirm('Are you sure you want to log out?')) {
        localStorage.removeItem('fullName');
        localStorage.removeItem('email');
        localStorage.removeItem('phone');
        alert('Logged out successfully.');
        window.location.href = 'signin.html';
      }
    }
  
    // 删除账户
    function deleteAccount() {
      if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
        localStorage.clear();
        alert('Your account has been deleted.');
        window.location.href = 'index.html';
      }

    
    }

    function submitFeedback(e) {
    e.preventDefault();
    const feedback = document.getElementById('userFeedback').value.trim();
    if (feedback) {
      alert('Thank you for your feedback!');
      // 可选：发送到服务器或保存到 localStorage
      document.getElementById('userFeedback').value = '';
    } else {
      alert('Please enter your feedback before submitting.');
    }
  }
    
  function validatePhone(input) {
  const phoneRegex = /^\+65\d{8}$/;
  if (input.value && !phoneRegex.test(input.value)) {
    input.setCustomValidity('Phone must be +65 followed by 8 digits');
  } else {
    input.setCustomValidity('');
  }
}
  </script>
  
</div>
<script src="js/menu.js"></script>
</body>
</html>
